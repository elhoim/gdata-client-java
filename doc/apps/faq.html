<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Google Apps APIs Frequently Asked Questions</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link rel="stylesheet" type="text/css" href="../css/dev_docs.css" />
<link rel="stylesheet" type="text/css" href="css/local_extensions.css" />
<link rel="stylesheet" type="text/css" href="css/product-page.css" />
<!--[if IE 7]>
  <link rel="stylesheet" type="text/css" href="../css/ie7only.css" />
<![endif]-->
<!--[if lte IE 6]>
  <link rel="stylesheet" type="text/css" href="../css/ie6only.css" />
<![endif]-->
<!--[if IE]>
  <link rel="stylesheet" type="text/css" href="../css/ieonly.css" />
<![endif]-->
<style type="text/css">
<!--
h1 a, h2 a, h3 a, h4 a, h5 a, h6 a {
 	color: #000000;
}
-->
</style>
</head>
<body id="faq_page">
<a name="top"></a>
<!-- ########## PAGE HEADER ########## -->
<div id="header">
  <div id="logo"><a href="http://code.google.com/"><img src="http://code.google.com/images/code_sm.png" border="0" alt="Return to Google Code homepage" /></a></div>
  <h1 id="doc_title">Google Apps APIs </h1>
</div>
<!-- ########## END PAGE HEADER ########## -->
<div id="wrapper">
  <!-- ########## SIDE NAVIGATION ########## -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
  _uacct = "UA-18071-1";
  urchinTracker();
</script>

<div id="sidenav">
  <ul>
    <li>
      <h1>About Google Apps APIs</h1>
      <ul>
        <li><a href="index.html" id="main_link">Main</a></li>
        <li><a href="overview.html" id="overview_link">Overview</a></li>
        <li><a href="start.html" id="start_link">Getting Started</a></li>
      </ul>
    </li>
    <li>
      <h1>Domain Administrators</h1>
      <ul>
        <li><a href="gdata_provisioning_api_v2.0_reference.html">Provisioning API</a></li>
        <li><a href="sso/saml_reference_implementation.html">Single Sign-On Service</a></li>
        <li><a href="http://www.google.com/support/a/bin/answer.py?answer=60730">Email Gateway Inteface</a></li>
        <li><a href="libraries_and_samples.html" id="libraries_link">Client Libraries and Sample Code</a></li>
        <li><a href="http://code.google.com/support/bin/topic.py?topic=11279" id="faq_link">Frequently Asked Questions</a></li>
        <li><a href="http://groups.google.com/group/google-apps-apis">Discussion Group</a></li>
        <li><a href="http://www.google.com/support/a/">Help Center</a></li>
      </ul>
    </li>
    <li>
      <h1>Application Developers</h1>
      <ul>
        <li><a href="http://code.google.com/apis/gdata/index.html">Google Data APIs</a></li>
        <li><a href="http://code.google.com/apis/calendar/overview.html">Calendar Data API</a></li>
        <li><a href="http://code.google.com/apis/spreadsheets/overview.html">Spreadsheets Data API</a></li>
        <li><a href="http://www.google.com/apis/gadgets/index.html">Gadgets API</a></li>
        <li><a href="http://code.google.com/apis/talk/talk_developers_home.html">Talk for Developers</a></li>
      </ul>
    </li>
    <li>
      <h1>Solutions Gallery</h1>
      <ul>
        <li><a href="submit.html" id="submit_link">Share Your Solution</a></li>
        <li><a href="http://www.google.com/enterprise/gallery/">View Solutions Gallery</a></li>
      </ul>
    </li>
  </ul>
</div>

  <!-- ########## END SIDE NAVIGATION ########## -->
  <!-- ########## PAGE CONTENT ########## -->
  <div id="pagecontent">
    <h1 id="page_title">Frequently Asked Questions</h1> 

 <ol>
 <b>Overview:</b>
  <li><a href="#faq1">What is Google Apps?</a></li>
  <li><a href="#faq2">What can I do with the Google Apps APIs?</a></li>

 <br><br>
 <b>Provisioning API:</b>

  <li><a href="#faq3">Can we request more than one authentication token?</a></li>
  <li><a href="#faq4">Will the most recent token request invalidate the previous unexpired token?</a></li>
  <li><a href="#faq5">What is the time to live of an authentication token?</a></li>
  <li><a href="#faq6">I received a CAPTCHA error during authentication, what is a CAPTCHA?</a></li>
  <li><a href="#faq7">How do we handle a CAPTCHA challenge?</a></li>
  <li><a href="#faq8">Under what circumstances will Google's authentication system generate a CAPTCHA challenge?</a></li>
  <li><a href="#faq9">How can I monitor my request and response to and from Google?</a></li>

 <br><br>
 <b>Single Sign-On (SSO) API:</b>

  <li><a href="#faq10">What version of SAML does the SSO API supports?</a></li>
  <li><a href="#faq11">Can we use RSA instead of DSA for the SSO implementation?</a></li>
  <li><a href="#faq12">How can I generate the verification certificate required for SSO?</a></li>
  <li><a href="#faq13">If our domain implements SSO, can we still login to Google directly?</a></li>
  <li><a href="#faq14">Why can't I set a persistent cookie at Google using the SAML SSO solution?</a></li>
  <li><a href="#faq15">How can the non-persistent session cookie that identifies a user during a browser session be deleted (e.g upon logout)?</a></li>
  <li><a href="#faq16">I have a different question/problem. Who should I contact?</a></li>
 </ol>

 <br>
 <ol>
  <li><a name=faq1 id="faq1"></a><b>What is Google Apps?</b>
  <p>Google Apps lets you offer private-labeled email, IM and calendar accounts to all of your users, so they can share ideas and work more effectively. These services are all unified by the start page, a new addition to this service, a unique, dynamic page where your users can preview their inboxes and calendars, browse content and links that you choose, search the web, and further customize the page to their liking. You can also design and publish web pages for your domain. Everything is hosted by Google so no hardware or software is required.</p>
  </li>

  <li><a name=faq2 id=faq2></a><b>What can I do with the Google Apps APIs?</b> 
  <p>We currently offer two administrative APIs, one for user provisioning and one for single sign-on (SSO). The Provisioning API allows you to programmatically manage user accounts and synchronize your Google Apps user base with your own user management system. The SSO API allows you to integrate your own authentication system with Google Apps and securely login you users to web based hosted Google applications.</p>
  <p>Google Calendar Data API, Google Gadgets API, Google Spreadsheets Data API, and Google Talk XMPP are also available to allow you to customize
  Google Calendar, The Start Page, Google Spreadsheets, and Google Talk Client respectively.</li>

  <li><a name=faq3 id=faq3></a><b>Can we request more than one authentication token?</b>
  <p>Yes, you can request more than one token during a period of time. </p></li>

  <li><a name=faq4 id=faq4></a><b>Will the most recent token request invalidate the previous unexpired token?</b>
  <p>No, the most recent token will not invalidate the previous unexpired tokens. In short, you can have multiple valid tokens.</p></li>

  <li><a name=faq5 id=faq5></a><b>What is the time to live of an authentication token?</b>
  <p>Authentication tokens typically expire after 24 hours. As such, you will need to submit a request to the above URL at least once every 24 hours. We recommend that you keep the token in memory rather than writing it to a file.</p></li>

  <li><a name=faq6 id=faq6></a><b>I received a CAPTCHA error during authentication, what is a CAPTCHA?</b>
  <p>A CAPTCHA is a test to determine whether or not the user is human. It typically requires the user to type the letters of a distorted visual image. A CAPTCHA ensures that a real person is attempting login, and not a computer trying random strings (a "dictionary" attack).</p></li>

  <li><a name=faq7 id=faq7></a><b>How do we handle a CAPTCHA challenge?</b>
  <p>There are 2 ways to handle a CAPTCHA challenge:<br>
	<ol>
		<li>Your application can display the CAPTCHA image and solicit an answer from the user. To display the CAPTCHA image, use the CaptchaUrl returned with the login failure response. Once the user provides an answer, your application should resend (POST) the login request, this time including the CAPTCHA token and the user's answers. Google will validate the user's answer before authorizing access to the account. So, when responding to a CAPTCHA, your POST body string will look like the following:<br><br>
		
		accountType=HOSTED&Email=johndoe@yourdomain.com&Passwd=north23AZ&logintoken=DQAAAGgA...dkI1LK9&logincaptcha=randomized<br><br>
		</li>
		<li>Your application can direct the user to the Google hosted page:<br>
		https://www.google.com/a/yourdomain.com/UnlockCaptcha (Note: Please replace "yourdomain.com" with you domain name). Once the user has successfully responded to the challenge, the Google server will trust the computer in use. The application can then resend the original login request to obtain the authentication token.</p></li>
	</ol>
  <p>
  </li>
  <li><a name=faq8 id=faq8></a><b>Under what circumstances will Google's authentication system generate a CAPTCHA challenge?</b>
  <p>First of all, you should not get a CAPTCHA if things are working normally. You may get a CAPTCHA if we suspect illegal intrusion such as after too many incorrect login attempts. A CAPTCHA ensures that a real person is attempting login, and not a computer trying random strings (a "dictionary" attack).</p></li>

  <li><a name=faq9 id=faq9></a><b>How can I monitor my request and response to and from Google?</b>
  <p>There are a number of tools that helps you monitor your connection with Google. You can download <a href="https://tcpmon.dev.java.net/" target="_blank">tcpmon</a>, an open-source utility to monitor TCP connection.</p>
  </li>

  <li><a name=faq10 id=faq10></a><b>What version of SAML does the SSO API supports?</b>
  <p>We currently support SAML v2.0. Visit <a href="http://www.oasis-open.org/specs/index.php#samlv2.0" target="_blank"> http://www.oasis-open.org/specs/index.php#samlv2.0</a> to find details on the SAML v2.0 standard.</p>
  </li>

  <li><a name=faq11 id=faq11></a><b>Can we use RSA instead of DSA for the SSO implementation?</b>
  <p>Yes, you can choose to use RSA or DSA encryption algorithm. We accept both.</p></li>

  <li><a name=faq12 id=faq12></a><b>How can I generate the verification certificate required for SSO?</b>
  <p>X509 certificates generation can be accomplished using the openssl command. <a href="http://www-128.ibm.com/developerworks/java/library/j-certgen/" target="_blank">More information</a>.</p></li>

  <li><a name=faq13 id=faq13></a><b>If our domain implements SSO, can we still login to Google directly?</b>
  <p>With SSO implemented, domain end users will not be able to login to Google directly. However, domain admins can still login to the Google Apps control panel (e.g http://www.google.com/a/yourdomain.com).</p></li>

  <li><a name=faq14 id=faq14></a><b>Why can't I set a persistent cookie at Google using the SAML SSO solution? </b>
  <p>SAML does not specify a mechanism to set expiration times for sessions, and this is generally a good thing.  If you could set authentication credentials for Google applications with different expiration parameters than for your non-Google properties, a mismatch in credentials could occur such that, on a shared computer, user "A" would be authenticated at Google, and user "B" could be authenticated at the IdP's other properties simultaneously.  To the extent that both Google hosted and non-Google hosted applications are viewed as a cohesive set of services, this would result in a loss of privacy and a poor user experience.</p>
  <p>If you wish to set authentication credentials that last longer than the lifetime of the browser (the default time for Google authentication sessions), then you will need to implement a cookie on your SSO service that lasts for a longer period of time.  You may then check that cookie when we send the user to you for authentication, and identify them securely, without needing to prompt for a username/password.</p></li>

  <li><a name=faq15 id=faq15></a><b>How can the non-persistent session cookie that identifies a user during a browser session be deleted (e.g. upon logout)?</b>
  <p>After successful authentication via SAML, Google sets a session cookie to identify an user's session.  When the user explicitly logs out (e.g. by clicking the logout button), this cookie needs to be destroyed.  If your implementation involves persistent session management ("remember me on this computer" functionality), you may need to control how and when this cookie is destroyed.  Upon logout, Google redirects to your logout servlet. In your logout servlet, you may present the user with some options that could determine whether the session cookie should be deleted or not.
  </p></li>

  <li><a name=faq16 id=faq16></a><b>I have a different question/problem. Who should I contact?</b>
  <p>Please post your question in the <a href="http://groups.google.com/group/google-apps-apis">Google Apps APIs discussion group</a> to get help from the Google Apps developer community. The Google Apps team also monitors and participates in this group.</p></li>
 
  </ol>

  </div>
  <!-- ########## END PAGE CONTENT ########## -->
</div>
<!-- end wrapper -->
<!-- ########## PAGE FOOTER ########## -->
<div id="footer">
  <div id="footerlogo"><img src="http://www.google.com/images/art.gif" alt="" /></div>
  <div id="copyright">
    <p>&copy; Google Inc. 2007 - <a href="http://www.google.com/privacy.html">Privacy Policy</a> - <a href="http://www.google.com/terms_of_service.html">Terms and Conditions</a> - <a href="http://www.google.com/about.html">About Google</a></p>
  </div>
  <!-- end copyright -->
</div>
<!-- ########## END PAGE FOOTER ########## -->
<p id="date">Last modified:
<script type="text/javascript">
  <!--
  var lm = new Date(document.lastModified);
  document.write(lm.toDateString());
  //-->
</script>
</p>
</body>
</html>
