<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>Blogger Data API Developer's Guide</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
  <link rel="stylesheet" type="text/css" href="../css/dev_docs.css"/>
  <link rel="stylesheet" type="text/css" href="css/local_extensions.css"/>
  <!--[if IE 7]>
    <link rel="stylesheet" type="text/css" 
          href="../css/ie7only.css" />
  <![endif]-->
  <!--[if lte IE 6]>
    <link rel="stylesheet" type="text/css" 
          href="../css/ie6only.css" />
  <![endif]-->
  <!--[if IE]>
    <link rel="stylesheet" type="text/css" 
          href="../css/ieonly.css" />
  <![endif]-->
  <style type="text/css">
    <!--
    h1 a, h2 a, h3 a, h4 a, h5 a, h6 a {
      color: #000000;
    }

    -->
  </style>
  <script type="text/javascript">
    <!--
    var cancelBubble = false;

    function goTo(url) {
      window.location = url;
    }
    //-->
  </script>
</head>
<body class="t3" id="developers_guide_page">
<a name="top"></a>
<!-- ########## PAGE HEADER ########## -->
<div id="header">
  <div id="logo">
    <a href="/">
      <img src="/images/code_sm.png" border="0" alt="Return to Google Code homepage"/>
    </a>
  </div>
  <h1 id="doc_title">Blogger Data API</h1>
</div>
<!-- ########## END PAGE HEADER ########## -->
<div id="wrapper">
<!-- ########## SIDE NAVIGATION ########## -->
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript">
</script>
<script type="text/javascript">
  _uacct = "UA-18071-1";
  urchinTracker();
</script>

<div id="sidenav">
  <ul>
    <li>
      <h1>Blogger</h1>
      <ul>
        <!-- ID tag identifies current page -->
        <li><a href="overview.html" id="overview_link">Overview</a></li>
        <li><a href="developers_guide_protocol.html" id="developers_guide_link">Developer's Guide</a></li>
        <li><a href="reference.html" id="reference_link">Reference Guide</a></li>
        <li><a href="http://www.blogger.com/terms.g">Terms of Service</a></li>
      </ul>
    </li>
    <li>
      <h1>Google Data Protocol</h1>
      <ul>
        <li><a href="../gdata/overview.html">Overview</a></li>
        <li><a href="../gdata/clientlibs.html">Client Libraries</a></li>
        <li><a href="../gdata/auth.html">Authentication</a></li>
      </ul>
    </li>
    <li>
      <h1>Support Resources</h1>
      <ul>
        <li><a href="http://groups.google.com/group/bloggerDev">Discussion Group</a></li>
      </ul>
    </li>
  </ul>
</div>

<!-- ########## END SIDE NAVIGATION ########## -->
<!-- ########## PAGE CONTENT ########## -->
<div id="pagecontent">
<h1 id="page_title">Blogger Data API Developer's Guide: .NET</h1>

<div id="topnav">
<table id="mt" cellspacing="0" cellpadding="0" width="100%" border="0">
<tr>
<th class="int1" onclick="if (!cancelBubble) goTo('developers_guide_protocol.html');">
<div class="tc1"><div class="tc2"><div class="tc3"></div></div></div>
<div class="tT"><a onclick="cancelBubble=true;" href="developers_guide_protocol.html">Protocol</a></div>
</th><td>&nbsp;&nbsp;</td>
<th class="int2" onclick="if (!cancelBubble) goTo('developers_guide_java.html');">
<div class="tc1"><div class="tc2"><div class="tc3"></div></div></div>
<div class="tT"><a onclick="cancelBubble=true;" href="developers_guide_java.html">Java</a></div>
</th><td>&nbsp;&nbsp;</td>
<th class="int3" onclick="if (!cancelBubble) goTo('developers_guide_dotnet.html');">
<div class="tc1"><div class="tc2"><div class="tc3"></div></div></div>
<div class="tT"><a onclick="cancelBubble=true;" href="developers_guide_dotnet.html">.NET</a></div>
</th><td>&nbsp;&nbsp;</td>
<!--
<th class="int4" onclick="if (!cancelBubble) goTo('developers_guide_php.html');">
<div class="tc1"><div class="tc2"><div class="tc3"></div></div></div>
<div class="tT"><a onclick="cancelBubble=true;" href="developers_guide_php.html">PHP</a></div>
</th><td>&nbsp;&nbsp;</td>
-->
<th class="int5" onclick="if (!cancelBubble) goTo('developers_guide_python.html');">
<div class="tc1"><div class="tc2"><div class="tc3"></div></div></div>
<div class="tT"><a onclick="cancelBubble=true;" href="developers_guide_python.html">Python</a></div>
<td width="100%">&nbsp;</td>
</tr>
</table>

<table cellspacing="0" cellpadding="0" width="100%" align="center" border="0" class="st">
<tr>
<td height="4" align="right" style="padding:0px; vertical-align:top">
<div class="stur"></div>
</td>
</tr>
</table>
</div>


<p>The Blogger data API allows client applications to view and update Blogger content by using Google data API feeds. Your client application can use the Blogger data API feeds to create new blog posts, edit or delete existing blog posts, and query for posts that match particular criteria.</p>

<p>In addition to providing some background on the capabilities of the Blogger data API, this document provides examples for interacting with the API using the .NET Client Library.
If you're interested in understanding more about the underlying protocol used by the .NET Client Library to interact with the Blogger data API, please see the 
<a href="developers_guide_protocol.html">protocol tab</a>.</p>

<h1>Contents</h1>

<div class="toc">
  <ol>
    <li><a href="#Audience">Audience</a></li>
    <li><a href="#GettingStarted">Getting started</a>
      <ol>
        <li><a href="#create_blogger_account">Create a Blogger account</a></li>
        <li><a href="#run_samples">Running the sample code</a></li>
      </ol>
    </li>
    <li><a href="#Auth">Authenticating to the Blogger service</a> 
        <ol class="toc">
          <li><a href="#auth_sub">AuthSub proxy authentication</a></li>
          <li><a href="#client_login">ClientLogin username/password authentication</a></li>
        </ol>
      </li>
    <li><a href="#GettingBlogs">Retrieving a list of blogs</a></li>
    <li><a href="#CreatingPosts">Creating posts</a>
      <ol class="toc">
        <li><a href="#create_public_post">Publishing a blog post</a></li>
        <li><a href="#create_draft_post">Creating a draft blog post</a></li>
      </ol>
    </li>
    <li><a href="#RetrievingPosts">Retrieving posts</a>
      <ol class="toc">
        <li><a href="#retrieving_without_query">Retrieving all blog posts</a></li>
        <li><a href="#retrieving_with_query">Retrieving posts using query parameters</a></li>
      </ol>
    </li>
    <li><a href="#UpdatingPosts">Updating posts</a></li>
    <li><a href="#DeletingPosts">Deleting posts</a></li>
    <li><a href="#Comments">Comments</a>
      <ol class="toc">
        <li><a href="#CreatingComments">Creating comments</a></li>
        <li><a href="#RetrievingComments">Retrieving comments</a></li>
        <li><a href="#DeletingComments">Deleting comments</a></li>
      </ol>
    </li>
  </ol>
</div>

<h1><a name="Audience" id="Audience">Audience</a></h1>

<p>This document is intended for programmers who want to write client applications that can interact with Blogger. It provides a series of examples of basic data API interactions using the <a href="http://code.google.com/p/google-gdata/">.NET Client Library</a>.</p>

<p>For Blogger data API reference information, see the <a href="reference.html">reference guide</a>. This document assumes that you understand the general ideas behind the <a href="../gdata/basics.html">Google data APIs protocol</a>.</p>

<h1><a name="GettingStarted" id="GettingStarted">Getting started</a></h1>
<h2><a name="create_blogger_account" id="create_blogger_account">Create a Blogger account</a></h2>

<p> Blogger uses Google Accounts, so if you already have a Google account you're all set.  If you don't have a Google account, or want to create a new one just for trying out the Blogger data API, sign up <a href="http://www.blogger.com/signup.g">here</a>.</p>
<h2><a name="run_samples" id="run_samples">Running the sample code</a></h2>
    <p>To use the .NET client library, you'll need the .NET 1.1 runtime, and you should also be current on all patches. After 
<a href="http://code.google.com/p/google-gdata/downloads/list">downloading the client library</a>, you'll find the DLLs you need to get started in the 
<code>lib/Release</code> subdirectory of the distribution.
    <p>A full working copy of this sample is available in the <a href="http://code.google.com/p/google-gdata/">Google data project</a> in the project hosting section of code.google.com. The
 sample is located at <a href="http://google-gdata.googlecode.com/svn/trunk/clients/cs/samples/blogger/ConsoleSample.cs">/trunk/clients/cs/samples/blogger/ConsoleSample.cs</a> in the SVN repository accessible from the Source tab.</p>
    <p>Before compiling and running this sample, please update the values of <code>username</code>, <code>password</code>, <code>blogName</code>, and <code>postId</code> with the appropriate values.  The
 <code>username</code> and <code>password</code> values represent the credentials used to login to Google Calendar.  The <code>blogName</code> value is the start of your
blog's blogspot URL.
    <p>The sample performs a number of operations on the provided calendar to demonstrate the use of the Blogger data API.  Please see the <code>Main</code> method of the code for more
 details as to which operations are performed.</p>
    <p>To compile the examples in this document into your own code, you'll need the following <code>using</code> statements:</p>
    <pre>using Google.GData.Client;
using System.Net;
using System.Xml;
using System.Text.RegularExpressions;</pre>
    <p>The <a href="/apis/gdata/csdoc/Google.GData.Client.Service.html"><code>Service</code></a> class represents a client connection (with authentication) to a Google data service. The general procedure for sending a query to a service using the client library consists of the following steps:</p>
    <ol>
      <li>Obtain or construct the appropriate URL.</li>
      <li>If you're sending data to a service (for example, if you're inserting a new entry), then transform the raw data into objects using the client library classes. (This step 
doesn't apply if you're just requesting a feed, as we're doing in this example.)</li>
      <li>Create a new <code>Service</code> instance, setting your application's name (in the form <code><i>companyName</i>-<i>applicationName</i>-<i>versionID</i></code>).</li>

      <li>Set the appropriate credentials.</li>
      <li>Call a method to send the request and receive any results.</li>
    </ol>


<h1><a name="Auth" id="Auth">Authenticating to the Blogger service</a></h1>
<p>You can access both public and private feeds using the Blogger data API. Public feeds do not require any authentication, but they are read-only.  If you want to modify blogs then you'll need to authenticate your client before requesting private feeds.  This can be done via <a href="#AuthClientLogin">ClientLogin</a> username/password authentication or <a href="#AuthAuthSub">AuthSub</a> proxy authentication.</p>
<p>For more information about authentication with Google data APIs in general, please see the <a href="../gdata/auth.html">authentication documentation</a>.</p>

<h2><a name="auth_sub" id="auth_sub">AuthSub proxy authentication</a></h2>
<p>AuthSub proxy authentication is used by web applications which need to authenticate their users to Google accounts.  The website operator does not need access to the username and 
password for the Blogger user - only special AuthSub tokens are required.  Please see the <a href="/apis/accounts/AuthForWebApps.html">AuthSub documentation</a> for more detailed 
information.</p>
<p>As of version 1.09 of the .NET client library, it is possible for applications to authenticate using the AuthSub login protocol.  This is useful, for example, if you have an
 ASP application that requires Spreadsheets authentication.</p>
<p>To acquire an AuthSub token for a given user and a given service, your application must redirect the user to the AuthSubRequest URL, which prompts them to 
log into their Google account. (For more information on the AuthSubRequest URL, see the <a href="/apis/accounts/AuthForWebApps.html">AuthSub documentation</a>.)
</p>                          
<p>Supposing we have the following ASP hyperlink defined in our page:</p>
<pre>&lt;asp:HyperLink ID="GotoAuthSubLink" runat="server"/&gt;</pre>
<p>then to construct the AuthSubRequest URL for your application, make a .NET client library call as follows:</p>
<pre>GotoAuthSubLink.Text = "Login to your Google Account";               
GotoAuthSubLink.NavigateUrl = AuthSubUtil.getRequestUrl("http://www.example.com/RetrieveToken",
                                                        "http://www.blogger.com/feeds/",
                                                        false,
                                                        true);</pre>
<p>The <code>getRequestUrl</code> method takes several parameters (corresponding to the query parameters used by the AuthSubRequest handler):
  <ul>
    <li><b>next</b>, the URL of the page that Google should redirect the user to after authentication.</li>
    <li><b>scope</b>, indicating that the application will only access Blogger feeds.</li>

    <li><b>secure</b>, indicating that the token returned will not be a secure token.</li>
    <li><b>session</b>, indicating this token can be exchanged for a multi-use (session) token.</li>
  </ul>
<p>The above example shows a call in unregistered mode (the first Boolean is <code>false</code>), The URL will look something like this:</p><p>
</p><pre>https://www.google.com/accounts/AuthSubRequest?scope=http%3A%2F%2Fwww.blogger.com%2Ffeeds%2F&amp;session=1&amp;secure=0&amp;next=http%3A%2F%2Fwww.examples.com%2FRetrieveToken</pre> 

<p>The user will then follow the link to Google's site and authenticate to their Google account.</p>

<p>After the user authenticates, they will be redirected back to the <code>next</code> URL. The URL will have a single-use token value appended to it as a query parameter. Therefore, the token is accessible as a variable in the ASP page's <code>Request.QueryString</code> object. The URL the user will be redirected to will look something like this:  

</p><pre>http://www.example.com/RetrieveToken?token=14a87fe98219731acd516</pre>

<p>For security, this token is single-use only, so now we need to exchange this single-use token for a session token. Since <code>session = True</code> was specified above, this token can be exchanged for an AuthSub session token. The following code snippet shows how to upgrade.</p>
    <pre>SessionsessionToken = AuthSubUtil.exchangeForSessionToken(Request.QueryStringtoken, null);</pre>
    <p>You pass your one-time use token to the <code>exchangeForSessionToken</a></code> method, along with either <code>null</code> (for unregistered mode) or a private key (for registered mode), and the AuthSub interface returns a session token. For more information about registered applications and private keys, refer to the <a href="/apis/accounts/AuthForWebApps.html#signingrequests">"Signing requests"</a> section of the AuthSub documentation</a>.</p>
    <p>Now you are ready to use the session token to authenticate requests to the Blogger server by placing the token in the Authorization header. To tell the .NET client library to automatically send the Authorization header (containing the session token) with each request, do the following:</p>
    <pre>GAuthSubRequestFactory authFactory = new GAuthSubRequestFactory("blogger", "BloggerSampleApp");
authFactory.Token = SessionsessionToken.ToString();
Service service = new Service(authFactory.ApplicationName);
service.RequestFactory = authFactory;</pre>

<h2><a name="client_login" id="client_login">ClientLogin username/password authentication</a></h2>
<p>ClientLogin authentication is used if your client is a standalone, single-user &quot;installed&quot; client (such as a desktop application). Set the Credentials of your service object as follows:</p>
<pre>Service service = new Service("blogger", "exampleCo-exampleApp-1");
NetworkCredential creds = new NetworkCredential(username, password);
service.Credentials = creds;</pre>
<p>In the snippet above we pass two parameters to the <code>Service</code> constructor. The first parameter is the name of the service we want to interact with, in this case <b>blogger</b>. The second parameter is the name of our application in the form &lt;companyName&gt;-&lt;applicationName&gt;-&lt;versionNumber&gt;.
<p>For more information about ClientLogin authentication, including sample requests and responses, see the <a href="/apis/accounts/AuthForInstalledApps.html">Account Authentication for Installed Applications</a> documentation.</p>
<p class="note"><strong>Note</strong>: As described in the ClientLogin documentation, the authentication request may fail and request a CAPTCHA challenge. If you want Google to issue and handle the CAPTCHA challenge, then send the user to <code>https://www.google.com/accounts/DisplayUnlockCaptcha?service=blogger</code> (rather than to the CAPTCHA-handling URL given in the ClientLogin documentation).</p>

<h1><a name="GettingBlogs" id="GettingBlogs">Retrieving a list of blogs</a></h1>
<p>The Blogger data API provides a feed for retrieving the list of blogs for a particular user. The following sample code uses an authenticated <code>Service</code> object to retrieve this list of blog feeds and then prints each blog's title.
<pre>query.Uri = new Uri("http://www.blogger.com/feeds/default/blogs");
AtomFeed feed = null;
try
{
    feed = service.Query(query);
    foreach (AtomEntry entry in feed.Entries)
    {
        Console.WriteLine("Blog Title: " + entry.Title.Text);
    }
}</pre>
<p>Note the URL used by the <code>getFeed</code> method.  This is the default metafeed URL and will return a list of blogs for the user currently authenticated.  To access a feed for a different user you can put the user's ID in place of 'default' in the metafeed URL.  The user's ID is the string of digits at the end of the user's profile URL (e.g. http://www.blogger.com/profile/<i>userID</i>)</p>
<p class="note"><strong>Note:</strong> You will see references to &quot;blogger.com&quot; and &quot;blogspot.com&quot; throughout this guide.  The &quot;blogger.com&quot; feeds are for client API use, while the &quot;blogspot.com&quot; feeds are for syndication and reading.</p>

<h1><a name="CreatingPosts" id="CreatingPosts">Creating posts</a></h1>
<h2><a name="create_public_post" id="create_public_post">Publishing a blog post</a></h2>
<p>Once the client has been authenticated you can use it to publish blog entries. First, create an <code>AtomEntry</code> object to represent the blog post.  Then you can set the title, content and other attributes of the blog post.  Finally, use the <code>Service</code> object to insert the post.  Here's an example of how to publish a new blog post:</p>
<pre>
AtomEntry newPost = new AtomEntry();
newPost.Title.Text = &quot;Marriage!&quot;;
newPost.Content = new AtomContent();
newPost.Content.Content = &quot;&lt;div xmlns='http://www.w3.org/1999/xhtml'&gt;&quot; +
    &quot;&lt;p&gt;Mr. Darcy has &lt;em&gt;proposed marriage&lt;/em&gt; to me!&lt;/p&gt;&quot; +
    &quot;&lt;p&gt;He is the last man on earth I would ever desire to marry.&lt;/p&gt;&quot; +
    &quot;&lt;p&gt;Whatever shall I do?&lt;/p&gt;&quot; +
    &quot;&lt;/div&gt;&quot;;
newPost.Content.Type = &quot;xhtml&quot;;
newPost.Authors.Add(new AtomPerson());
newPost.Authors[0].Name = "Elizabeth Bennet";
newPost.Authors[0].Email = "liz@gmail.com";

AtomEntry createdEntry = service.Insert("http://www.blogger.com/feeds/" + blogId + "/posts/default", newPost);
</pre>
<p>The <code>Insert</code> method used above takes the post feed URL as a parameter, which contains the name of the blog you're interacting with.  Then the method returns the entry as it was stored by the Blogger service.  The entry returned is the same one you sent, but it also contains various elements added by Blogger, such as an ID.

<p>If your request fails for some reason, Blogger may return a different status code.  For information about the status codes, see the <a href="../gdata/reference.html">protocol reference document</a>.</p>

<h2><a name="create_draft_post" id="create_draft_post">Creating a draft blog post</a></h2>
<p>Draft posts are created in the same way as public posts, but you need to set the draft attribute if the <code>AtomEntry</code> object.  The blog post above could be created as a draft by adding the highlighted line:</p>
<pre>
AtomEntry newPost = new AtomEntry();
newPost.Title.Text = &quot;Marriage!&quot;;
newPost.Content = new AtomContent();
newPost.Content.Content = &quot;&lt;div xmlns='http://www.w3.org/1999/xhtml'&gt;&quot; +
    &quot;&lt;p&gt;Mr. Darcy has &lt;em&gt;proposed marriage&lt;/em&gt; to me!&lt;/p&gt;&quot; +
    &quot;&lt;p&gt;He is the last man on earth I would ever desire to marry.&lt;/p&gt;&quot; +
    &quot;&lt;p&gt;Whatever shall I do?&lt;/p&gt;&quot; +
    &quot;&lt;/div&gt;&quot;;
newPost.Content.Type = &quot;xhtml&quot;;
newPost.Authors.Add(new AtomPerson());
newPost.Authors[0].Name = &quot;Elizabeth Bennet&quot;;
newPost.Authors[0].Email = &quot;liz@gmail.com&quot;;
<b>newPost.IsDraft = true;</b>

AtomEntry createdEntry = service.Insert(&quot;http://www.blogger.com/feeds/&quot; + blogId + &quot;/posts/default&quot;, newPost);
</pre>
<p>You can turn an existing draft blog post into a published post by retrieving the draft post, setting the draft attribute to false and then updating the post. We'll cover retrieving and updating posts in the next two sections.</p>

<h1><a name="RetrievingPosts" id="RetrievingPosts">Retrieving posts</a></h1>

<h2><a name="retrieving_without_query" id="retrieving_without_query">
  Retrieving all blog posts</a></h2>
<p>To retrieve all the posts on a blog, call the same <code>getFeed</code> method used to retrieve the blogs metafeed, but this time send the post feed URL:</p>
<pre>
query.Uri = new Uri(&quot;http://www.blogger.com/feeds/&quot; + blogId + &quot;/posts/default&quot;);
feed = service.Query(query);
Console.WriteLine(feed.Title.Text);
foreach (AtomEntry entry in feed.Entries)
{
    Console.WriteLine(&quot;Entry Title: &quot; + entry.Title.Text);
}
</pre>
<p>Blogger feeds are public in the sense that querying them does not require authentication. Therefore, you don't need to set credentials before 
retrieving posts on a blog.</p>

<h2><a name="retrieving_with_query" id="retrieving_with_query">Retrieving posts using query parameters</a></h2>

<p>The Google data API lets you request a set of entries that match specified criteria, such as requesting blog posts created or updated in a given date range, or published by a particular author.</p>

<p>The Google data API lets you request a set of entries that match specified criteria, such as requesting blog posts created or updated in a given date range, or published by a particular author.  To do this you create a <codea>FeedQuery</code> object and pass it to the <code>Service.Query()</code> method.  For example, to send a date-range query set the <code>MinPublication</code> and the <code>MaxPublication</code> members of the <code>FeedQuery</code> object.  The following code snippet prints the title of each blog post updated between the given start time and end time:</p>
<pre>
FeedQuery query = new FeedQuery();
query.Uri = new Uri(&quot;http://www.blogger.com/feeds/&quot; + blogId + &quot;/posts/default&quot;);
query.MinPublication = new DateTime(2006, 1, 1);
query.MaxPublication = new DateTime(2007, 4, 12);
AtomFeed feed = service.Query(query);
foreach (AtomEntry entry in feed.Entries)
{
    Console.WriteLine(&quot;  Entry Title: &quot; + entry.Title.Text);
}
</pre>
<p>Notice that the <code>FeedQuery</code> object is constructed using the same post feed URL used to retrieve posts.</p>

<p>The Blogger data API supports the following query parameters:</p>
<ul>
  <li><strong>alt</strong> - the type of feed to return, such as <code>atom</code> (the default) or <code>rss</code>.</li>
  <li><strong>orderby</strong> - the order to return entries, such as <code>lastmodified</code> (the default) and <code>starttime</code>.</li>
  <li><strong>max-results</strong> - the maximum number of entries to return.</li>
  <li><strong><i>/category</i></strong> - specifies categories (i.e. labels) to filter the feed results.  For example, <code>http://www.blogger.com/feeds/<i>blogID</i>/posts/default/-/Fritz/Laurie</code> will return entries labeled with Fritz AND Laurie.</li>
  <li><strong>updated-min, updated-max</strong> - the bounds on entry update dates.</li> 
  <li><strong>published-min, published-max</strong> - the bounds on entry publication dates.</li> 
  <li><strong>start-index</strong> - 1-based index of the first result to be retrieved (for paging).</li>
</ul>
<p>Please see the <a href="../../apis/blogger/reference.html#Query_Params">Blogger Data API Reference Guide</a> and the <a href="../../apis/gdata/reference.html#Queries">Google Data APIs Reference Guide</a> for more information about query parameters.</p>

<h1><a name="UpdatingPosts" id="UpdatingPosts">Updating posts</a></h1>
<p>To update an existing blog post you first modify the entry you want to update, then call the entry's Update() method. The following code snippet modifies the title of a blog entry.
<pre>
static AtomEntry EditEntry(AtomEntry toEdit)
{
    // Edit the entry by changing the Title and calling Update().
    if (toEdit != null)
    {
        toEdit.Title.Text = &quot;Marriage Woes!&quot;;
        toEdit = toEdit.Update();
    }
    return toEdit;
}
</pre>
<p>The function returns an <code>AtomEntry</code> with the newly-updated post in its entirety. To update any other properties, simply set them in the <code>AtomEntry</code> instance you are pushing to the server.</p>

<h1><a name="DeletingPosts" id="DeletingPosts">Deleting posts</a></h1>
<p>To delete a post, call the <code>Delete</code> method on an existing <code>AtomEntry</code> instance. The following code snippet deletes the blog entry passed into the function.
<pre>
static void DeleteEntry(AtomEntry toDelete)
{
    // Delete the edited entry
    if (toDelete != null)
    {
        toDelete.Delete();
    }
}
</pre>

<h1><a name="Comments" id="Comments">Comments</a></h1>
<p> The Blogger data API allows for creating, retrieving, and deleting comments. Updating comments is not supported (nor is it available in the web interface).</p>

<h2><a name="CreatingComments">Creating comments</a></h2>
<p>To post a comment, create an <code>AtomEntry</code> object and insert it as follows:</p>

<pre>
AtomEntry comment;
comment = new AtomEntry();
comment.Title.Text = &quot;This is my first comment&quot;;
comment.Content.Content = &quot;This is my first comment&quot;;
comment.Authors.Add(new AtomPerson());
comment.Authors[0].Name = &quot;Blog Author Name&quot;;
Uri commentPostUri = new Uri(&quot;http://www.blogger.com/feeds/&quot; + blogId + &quot;/&quot; + entryId + &quot;/comments/default&quot;);
postedComment = service.Insert(commentPostUri, comment);
</pre>
<p class="note"><strong>Note:</strong> Currently, you can only post comments to a blog owned by the authenticated user.</p>

<h2><a name="RetrievingComments">Retrieving comments</a></h2>
<p>You can retrieve the comments for a particular post from the post comments feed URL:</p>
<pre> 
static void ListEntryComments(Service service, Uri commentUri)
{
    if (commentUri != null)
    {
        // Retrieve all comments on a blog entry
        FeedQuery query = new FeedQuery();
        query.Uri = commentUri;
        AtomFeed feed = service.Query(query);
        foreach (AtomEntry entry in feed.Entries)
        {
            Console.WriteLine(&quot;  Comment Title: &quot; + entry.Title.Text);
        }
    }
}
</pre>
<p>Or you can get the comments from all posts by using the blog comments feed URL:</p>
<pre>
http://www.blogger.com/feeds/<i>blogID</i>/comments/default
</pre>

<h2><a name="DeletingComments">Deleting comments</a></h2>
<p>Comments can be deleted by calling the <code>Delete()</code> method on an existing comment <code>AtomEntry</code> object like this:</p>

<pre>  
static void DeleteComment(AtomEntry commentEntry)
{
    if (commentEntry != null)
    {
        // Delete the comment.
        commentEntry.Delete();
    }
}
</pre>
</div>
<!-- ########## END PAGE CONTENT ########## -->
</div>
<!-- end wrapper -->
<!-- ########## PAGE FOOTER ########## -->
<div id="footer">
  <div id="footerlogo"><img src="http://www.google.com/images/art.gif" alt=""/>
  </div>
  <div id="copyright">
    <p>&copy; Google Inc. 2006 - <a href="http://www.google.com/privacy.html">Privacy
      Policy</a> - <a href="http://www.google.com/terms_of_service.html">Terms
      and Conditions</a> - <a href="http://www.google.com/about.html">About
      Google</a></p>
  </div>
  <!-- end copyright -->
</div>
<!-- ########## END PAGE FOOTER ########## -->
<p id="date">Last modified:
  <script type="text/javascript">
    <!--
    var lm = new Date(document.lastModified);
    document.write(lm.toDateString());
    //-->
  </script>
</p>
</body>
</html>
